{"ast":null,"code":"var _jsxFileName = \"/Users/oslavko/Documents/dev/merchantspring/coding-challenge/coding-challenge-ui/src/components/OrdersTable.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport ReactPaginate from \"react-paginate\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst StyledTableList = styled.table`\n  width: 100%;\n  font-family: \"Roboto\", sans-serif;\n  text-align: left;\n  border-collapse: collapse;\n  th {\n    background-color: #f2f5f9;\n    color: #888888;\n    font-weight: light;\n    font-size: small;\n  }\n  td, th {\n    border: 1px solid #f0f0f0;\n    border-left: none;\n    border-right: none;\n    padding-top: 20px;\n    padding-bottom: 20px;\n    padding-left: 20px;\n  }\n`;\n_c = StyledTableList;\nconst getFlagEmoji = country => {\n  switch (country) {\n    case \"AUS\":\n      return 'ðŸ‡¦ðŸ‡º';\n    case \"GBR\":\n      return 'ðŸ‡¬ðŸ‡§';\n    case \"USA\":\n      return 'ðŸ‡ºðŸ‡¸';\n    default:\n      return '';\n  }\n};\nconst Paginate = ({\n  totalPages,\n  onPageChange\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"ul\", {\n    children: Array.from({\n      length: totalPages\n    }).map((_item, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: onPageChange({\n          selected: index + 1\n        }),\n        children: index + 1\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 48\n      }, this)\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 32\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n};\n_c2 = Paginate;\nexport const OrdersTable = ({\n  orderItems,\n  itemsPerPage\n}) => {\n  _s();\n  const [currentPage, setCurrentPage] = useState(0);\n  const [totalPages, setTotalPages] = useState(0);\n  useEffect(() => {\n    if (orderItems) setTotalPages(Math.ceil(orderItems.length / itemsPerPage));\n  }, [itemsPerPage, orderItems]);\n  const startIndex = currentPage * itemsPerPage;\n  const endIndex = startIndex + itemsPerPage;\n  const subset = orderItems && orderItems.slice(startIndex, endIndex);\n  const handlePageChange = selectedPage => {\n    setCurrentPage(selectedPage.selected);\n  };\n  console.log(orderItems);\n  console.log(totalPages);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(StyledTableList, {\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"MARKETPLACE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"STORE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"ORDER ID\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"ORDER VALUE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"ITEMS\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"DESTINATION\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"DAYS OVERDUE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: subset && subset.map(orderItem => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: [getFlagEmoji(orderItem.storeCountry), \" \", orderItem.marketplace]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: orderItem.storeName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: orderItem.orderId\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: new Intl.NumberFormat('en-AU', {\n              style: 'currency',\n              currency: 'AUD'\n            }).format(Number(orderItem.orderValue))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: orderItem.items\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: orderItem.destination\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: orderItem.latest_ship_date\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 15\n          }, this)]\n        }, orderItem.Id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Paginate, {\n      totalPages: totalPages,\n      onPageChange: handlePageChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ReactPaginate, {\n      breakLabel: \"...\",\n      pageCount: totalPages,\n      onPageChange: handlePageChange,\n      forcePage: currentPage,\n      previousLabel: \"<<\",\n      nextLabel: \">>\",\n      renderOnZeroPageCount: null\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(OrdersTable, \"cxthYUPI+UsLNP3Fl8ayrlIflKo=\");\n_c3 = OrdersTable;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"StyledTableList\");\n$RefreshReg$(_c2, \"Paginate\");\n$RefreshReg$(_c3, \"OrdersTable\");","map":{"version":3,"names":["React","useEffect","useState","styled","ReactPaginate","jsxDEV","_jsxDEV","Fragment","_Fragment","StyledTableList","table","_c","getFlagEmoji","country","Paginate","totalPages","onPageChange","children","Array","from","length","map","_item","index","type","onClick","selected","fileName","_jsxFileName","lineNumber","columnNumber","_c2","OrdersTable","orderItems","itemsPerPage","_s","currentPage","setCurrentPage","setTotalPages","Math","ceil","startIndex","endIndex","subset","slice","handlePageChange","selectedPage","console","log","orderItem","storeCountry","marketplace","storeName","orderId","Intl","NumberFormat","style","currency","format","Number","orderValue","items","destination","latest_ship_date","Id","breakLabel","pageCount","forcePage","previousLabel","nextLabel","renderOnZeroPageCount","_c3","$RefreshReg$"],"sources":["/Users/oslavko/Documents/dev/merchantspring/coding-challenge/coding-challenge-ui/src/components/OrdersTable.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { Order } from \"./OverdueOrders\";\nimport ReactPaginate from \"react-paginate\";\n\nconst StyledTableList = styled.table`\n  width: 100%;\n  font-family: \"Roboto\", sans-serif;\n  text-align: left;\n  border-collapse: collapse;\n  th {\n    background-color: #f2f5f9;\n    color: #888888;\n    font-weight: light;\n    font-size: small;\n  }\n  td, th {\n    border: 1px solid #f0f0f0;\n    border-left: none;\n    border-right: none;\n    padding-top: 20px;\n    padding-bottom: 20px;\n    padding-left: 20px;\n  }\n`;\n\ntype OrdersTableProps = {\n  orderItems: Order[] | null;\n  itemsPerPage: number;\n}\n\nconst getFlagEmoji = (country?: string): string => {\n  switch (country) {\n    case \"AUS\":\n      return 'ðŸ‡¦ðŸ‡º';\n    case \"GBR\":\n      return 'ðŸ‡¬ðŸ‡§';\n    case \"USA\":\n      return 'ðŸ‡ºðŸ‡¸';\n    default:\n      return '';\n  }\n};\n\ntype PaginateProps = {\n  totalPages: number;\n  onPageChange: any;\n};\n\nconst Paginate = ({\n  totalPages,\n  onPageChange,\n}: PaginateProps) => {\n  return (\n    <ul>\n      {Array.from({ length: totalPages })\n        .map((_item, index) => <li key={index}><button type=\"button\" onClick={onPageChange({ selected: index + 1 })}>{index + 1}</button></li>)\n      }\n    </ul>\n  );\n};\n\nexport const OrdersTable = ({ orderItems, itemsPerPage }: OrdersTableProps) => {\n  const [currentPage, setCurrentPage] = useState(0);\n  const [totalPages, setTotalPages] = useState(0);\n\n  useEffect(() => {\n    if (orderItems) setTotalPages(Math.ceil(orderItems.length / itemsPerPage));\n  }, [itemsPerPage, orderItems]);\n\n  const startIndex = currentPage * itemsPerPage;\n  const endIndex = startIndex + itemsPerPage;\n  const subset = orderItems && orderItems.slice(startIndex, endIndex);\n\n  const handlePageChange = (selectedPage: any) => {\n    setCurrentPage(selectedPage.selected);\n  };\n\n  console.log(orderItems);\n  console.log(totalPages);\n\n  return (\n    <>\n      <StyledTableList>\n        <thead>\n          <tr>\n            <th>MARKETPLACE</th>\n            <th>STORE</th>\n            <th>ORDER ID</th>\n            <th>ORDER VALUE</th>\n            <th>ITEMS</th>\n            <th>DESTINATION</th>\n            <th>DAYS OVERDUE</th>\n          </tr>\n        </thead>\n        <tbody>\n          {subset && subset.map(orderItem => (\n            <tr key={orderItem.Id}>\n              <td>{getFlagEmoji(orderItem.storeCountry)} {orderItem.marketplace}</td>\n              <td>{orderItem.storeName}</td>\n              <td>{orderItem.orderId}</td>\n              <td>\n                {\n                  new Intl.NumberFormat(\n                    'en-AU',\n                    { style: 'currency', currency: 'AUD' }\n                  )\n                  .format(Number(orderItem.orderValue))\n                }\n              </td>\n              <td>{orderItem.items}</td>\n              <td>{orderItem.destination}</td>\n              <td>{orderItem.latest_ship_date}</td>\n            </tr>\n          ))}\n        </tbody>\n      </StyledTableList>\n      <Paginate totalPages={totalPages} onPageChange={handlePageChange} />\n      <ReactPaginate\n        breakLabel={\"...\"}\n        pageCount={totalPages}\n        onPageChange={handlePageChange}\n        forcePage={currentPage}\n        previousLabel={\"<<\"}\n        nextLabel={\">>\"}\n        renderOnZeroPageCount={null}\n      />\n    </>\n  );\n}"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,MAAM,MAAM,mBAAmB;AAEtC,OAAOC,aAAa,MAAM,gBAAgB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAE3C,MAAMC,eAAe,GAAGN,MAAM,CAACO,KAAM;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,EAAA,GAnBIF,eAAe;AA0BrB,MAAMG,YAAY,GAAIC,OAAgB,IAAa;EACjD,QAAQA,OAAO;IACb,KAAK,KAAK;MACR,OAAO,MAAM;IACf,KAAK,KAAK;MACR,OAAO,MAAM;IACf,KAAK,KAAK;MACR,OAAO,MAAM;IACf;MACE,OAAO,EAAE;EACb;AACF,CAAC;AAOD,MAAMC,QAAQ,GAAGA,CAAC;EAChBC,UAAU;EACVC;AACa,CAAC,KAAK;EACnB,oBACEV,OAAA;IAAAW,QAAA,EACGC,KAAK,CAACC,IAAI,CAAC;MAAEC,MAAM,EAAEL;IAAW,CAAC,CAAC,CAChCM,GAAG,CAAC,CAACC,KAAK,EAAEC,KAAK,kBAAKjB,OAAA;MAAAW,QAAA,eAAgBX,OAAA;QAAQkB,IAAI,EAAC,QAAQ;QAACC,OAAO,EAAET,YAAY,CAAC;UAAEU,QAAQ,EAAEH,KAAK,GAAG;QAAE,CAAC,CAAE;QAAAN,QAAA,EAAEM,KAAK,GAAG;MAAC;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAS;IAAC,GAAjGP,KAAK;MAAAI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAgG,CAAC;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAEvI,CAAC;AAET,CAAC;AAACC,GAAA,GAXIjB,QAAQ;AAad,OAAO,MAAMkB,WAAW,GAAGA,CAAC;EAAEC,UAAU;EAAEC;AAA+B,CAAC,KAAK;EAAAC,EAAA;EAC7E,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGnC,QAAQ,CAAC,CAAC,CAAC;EACjD,MAAM,CAACa,UAAU,EAAEuB,aAAa,CAAC,GAAGpC,QAAQ,CAAC,CAAC,CAAC;EAE/CD,SAAS,CAAC,MAAM;IACd,IAAIgC,UAAU,EAAEK,aAAa,CAACC,IAAI,CAACC,IAAI,CAACP,UAAU,CAACb,MAAM,GAAGc,YAAY,CAAC,CAAC;EAC5E,CAAC,EAAE,CAACA,YAAY,EAAED,UAAU,CAAC,CAAC;EAE9B,MAAMQ,UAAU,GAAGL,WAAW,GAAGF,YAAY;EAC7C,MAAMQ,QAAQ,GAAGD,UAAU,GAAGP,YAAY;EAC1C,MAAMS,MAAM,GAAGV,UAAU,IAAIA,UAAU,CAACW,KAAK,CAACH,UAAU,EAAEC,QAAQ,CAAC;EAEnE,MAAMG,gBAAgB,GAAIC,YAAiB,IAAK;IAC9CT,cAAc,CAACS,YAAY,CAACpB,QAAQ,CAAC;EACvC,CAAC;EAEDqB,OAAO,CAACC,GAAG,CAACf,UAAU,CAAC;EACvBc,OAAO,CAACC,GAAG,CAACjC,UAAU,CAAC;EAEvB,oBACET,OAAA,CAAAE,SAAA;IAAAS,QAAA,gBACEX,OAAA,CAACG,eAAe;MAAAQ,QAAA,gBACdX,OAAA;QAAAW,QAAA,eACEX,OAAA;UAAAW,QAAA,gBACEX,OAAA;YAAAW,QAAA,EAAI;UAAW;YAAAU,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACpBxB,OAAA;YAAAW,QAAA,EAAI;UAAK;YAAAU,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACdxB,OAAA;YAAAW,QAAA,EAAI;UAAQ;YAAAU,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACjBxB,OAAA;YAAAW,QAAA,EAAI;UAAW;YAAAU,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACpBxB,OAAA;YAAAW,QAAA,EAAI;UAAK;YAAAU,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACdxB,OAAA;YAAAW,QAAA,EAAI;UAAW;YAAAU,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACpBxB,OAAA;YAAAW,QAAA,EAAI;UAAY;YAAAU,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnB;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACA,CAAC,eACRxB,OAAA;QAAAW,QAAA,EACG0B,MAAM,IAAIA,MAAM,CAACtB,GAAG,CAAC4B,SAAS,iBAC7B3C,OAAA;UAAAW,QAAA,gBACEX,OAAA;YAAAW,QAAA,GAAKL,YAAY,CAACqC,SAAS,CAACC,YAAY,CAAC,EAAC,GAAC,EAACD,SAAS,CAACE,WAAW;UAAA;YAAAxB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eACvExB,OAAA;YAAAW,QAAA,EAAKgC,SAAS,CAACG;UAAS;YAAAzB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eAC9BxB,OAAA;YAAAW,QAAA,EAAKgC,SAAS,CAACI;UAAO;YAAA1B,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eAC5BxB,OAAA;YAAAW,QAAA,EAEI,IAAIqC,IAAI,CAACC,YAAY,CACnB,OAAO,EACP;cAAEC,KAAK,EAAE,UAAU;cAAEC,QAAQ,EAAE;YAAM,CACvC,CAAC,CACAC,MAAM,CAACC,MAAM,CAACV,SAAS,CAACW,UAAU,CAAC;UAAC;YAAAjC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAErC,CAAC,eACLxB,OAAA;YAAAW,QAAA,EAAKgC,SAAS,CAACY;UAAK;YAAAlC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eAC1BxB,OAAA;YAAAW,QAAA,EAAKgC,SAAS,CAACa;UAAW;YAAAnC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eAChCxB,OAAA;YAAAW,QAAA,EAAKgC,SAAS,CAACc;UAAgB;YAAApC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC;QAAA,GAf9BmB,SAAS,CAACe,EAAE;UAAArC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAgBjB,CACL;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACO,CAAC,eAClBxB,OAAA,CAACQ,QAAQ;MAACC,UAAU,EAAEA,UAAW;MAACC,YAAY,EAAE6B;IAAiB;MAAAlB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eACpExB,OAAA,CAACF,aAAa;MACZ6D,UAAU,EAAE,KAAM;MAClBC,SAAS,EAAEnD,UAAW;MACtBC,YAAY,EAAE6B,gBAAiB;MAC/BsB,SAAS,EAAE/B,WAAY;MACvBgC,aAAa,EAAE,IAAK;MACpBC,SAAS,EAAE,IAAK;MAChBC,qBAAqB,EAAE;IAAK;MAAA3C,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC7B,CAAC;EAAA,eACF,CAAC;AAEP,CAAC;AAAAK,EAAA,CAnEYH,WAAW;AAAAuC,GAAA,GAAXvC,WAAW;AAAA,IAAArB,EAAA,EAAAoB,GAAA,EAAAwC,GAAA;AAAAC,YAAA,CAAA7D,EAAA;AAAA6D,YAAA,CAAAzC,GAAA;AAAAyC,YAAA,CAAAD,GAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}